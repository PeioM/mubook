<!doctype html>
<html lang="en">

<head th:replace="include.html :: headerfiles">
    <title id="Ptitle">Main Page</title>
</head>

<body class=" justify-content-center">
    <header th:replace="include.html :: headercontent"></header>
    <div id="carouselExampleCaptions" class="carousel slide container" data-bs-ride="carousel">
        <!--<div class="carousel-indicators" >
            <button type="button" data-bs-target="#carouselExampleCaptions" th:attrappend="data-slide-to=${iterator.index},
            aria-label='Slide '+'${iterator.index}+1', aria-current=${iterator.first}?'true'"  th:each="actualNew, iterator: ${news}"
            th:classappend="${iterator.first}? active"
            ></button>
             <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1"
                aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2"
                aria-label="Slide 3"></button>
        </div>
        -->

        <div class="carousel-inner">
            <div th:each="actualNew, iterator: ${news}" class="carousel-item" th:classappend="${iterator.first}? active">
                <div class="carousel-container d-flex justify-content-center align-items-center h-100">
                    <div class="general-carousel d-flex justify-content-center align-items-center row">
                        <div class="carousel-img d-flex justify-content-center align-items-center col-md-4">
                            <img th:attr="src=@{${actualNew.image}},alt=${actualNew.title}" class="d-block img-fluid p-md-1"/>
                        </div>
                        <div class="carousel-text d-flex justify-content-center align-items-center col-md-4">
                            <div class="carousel-title me-2">
                                <h5 th:text="${actualNew.title}"> </h5>
                            </div>
                            <div class="carousel-description">
                                <div class="accordion" id="accordionExample">
                                    <div class="accordion-item">
                                        <h2 class="accordion-header" th:id="'heading'+${iterator.index}">
                                            <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                            aria-expanded="true" th:attr="aria-controls='collapse'+${iterator.index}, data-bs-target='#collapse'+${iterator.index}">
                                                More info
                                            </button>
                                        </h2>
                                        <div th:id="'collapse'+${iterator.index}" class="accordion-collapse collapse " th:attr="aria-labelledby='heading'+${iterator.index}"
                                            data-bs-parent="#accordionExample">
                                            <div class="accordion-body text-dark" th:text="${actualNew.description}">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <form sec:authorize= "hasAnyRole('ADMIN','WORKER')" name="new-delete" th:action="@{'/news/delete?id=' + ${actualNew.newsid}}"  method="post">
                                    <button type="submit">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                                        class="bi bi-trash fluid" viewBox="0 0 16 16">
                                        <path
                                            d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z" />
                                        <path fill-rule="evenodd"
                                            d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z" />
                                    </svg></button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--
            <div class="carousel-item active">
                <div class="carousel-caption h-120 d-flex flex-column align-items-center justify-content-center">
                    <img src="/images/There_and_Back-Photographs_from_the_Edge.jpg" class="d-block h-50 p-3"
                        alt="First Slide...">
                    <h5>There and Back: Photographs from the Edge</h5>
                    <div class="accordion" id="accordionExample">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingOne">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                    more info
                                </button>
                            </h2>
                            <div id="collapseOne" class="accordion-collapse collapse " aria-labelledby="headingOne"
                                data-bs-parent="#accordionExample">
                                <div class="accordion-body text-dark">
                                    NEW YORK TIMES BESTSELLER • The Academy Award–winning director of Free Solo and
                                    National
                                    Geographic photographer presents the first collection of his iconic adventure
                                    photography,
                                    featuring some of the greatest moments of the most accomplished climbers and outdoor
                                    athletes in
                                    the world, and including more than 200 extraordinary photographs.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="carousel-item active">
                <div class="carousel-caption h-120 d-flex flex-column align-items-center justify-content-center">
                    <img src="/images/Fix_It_with_Food-Every_Meal_Easyjpg.jpg" class="d-block h-50 p-3"
                        alt="Second Slide">
                    <h5>Fix It with Food: Every Meal Easy</h5>
                    <div class="accordion" id="accordionExample">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingOne">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                    more info
                                </button>
                            </h2>
                            <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne"
                                data-bs-parent="#accordionExample">
                                <div class="accordion-body text-dark">
                                    120+ simple, delicious recipes for breakfast, lunch, and
                                    dinner to help you manage autoimmune
                                    issues all day—plus a​n all-new 10-day, 30-recipe reset to identify your food
                                    triggers—from the
                                    New York Times bestselling author of Fix It with Food.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="carousel-item active">
                <div class="carousel-caption h-120 d-flex flex-column align-items-center justify-content-center">
                    <img src="/images/Fear_No_Evil_(Alex%20Cross,%2027).jpg" class="d-block h-50 p-3"
                         alt="Third Slide">
                    <h5>Fear No Evil (Alex Cross, 27)</h5>
                    <div class="accordion" id="accordionExample">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingOne">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                    more info
                                </button>
                            </h2>
                            <div id="collapseOne" class="accordion-collapse collapse d-md-show" aria-labelledby="headingOne"
                                data-bs-parent="#accordionExample">
                                <div class="accordion-body text-dark">
                                    Alex Cross enters the final battle with the all-knowing genius who has
                                    stalked him and his family
                                    for years. Dr. Alex Cross and Detective John Sampson venture into the rugged Montana
                                    wilderness—where they will be the prey. They’re not on the job, but on a personal
                                    mission. Until
                                    they’re attacked by two rival teams of assassins, controlled by the same mastermind
                                    who has
                                    stalked Alex and his family for years. Darkness falls. The river churns into rapids.
                                    Shots ring
                                    out through the forest. No backup. No way out. Fear no evil. </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            -->
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions"
            data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions"
            data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>

    <div class="createNew-div d-flex justify-content-center mt-2">
        <a sec:authorize= "hasAnyRole('ADMIN','WORKER')" class="btn btn-primary salmon" id="create-new-btn" href="/news/add?error=">Create new</a>
    </div>

    <footer th:replace="include.html :: footercontent"></footer>
<!--
    <div id="pruebasSec">
        <div th:if="${user != null}">
        <div th:text="${user.name}"> has been created</div>
    </div>


    <a sec:authorize= "isAnonymous()" th:href="@{/login}" type="submit"><button>Log in</button></a>
    <a sec:authorize= "isAuthenticated()" th:href="@{/logout}" type="submit"><button>Log out</button></a>
    <a sec:authorize= "isAuthenticated()" th:href="@{/mainPage}" type="submit"><button>Profile</button></a>
    <a sec:authorize= "hasAnyRole('USER','WORKER')" th:href="@{/normalUser}" type="submit"><button>User area</button></a>
    <a sec:authorize= "hasRole('WORKER')" th:href="@{/worker}" type="submit"><button>Worker area</button></a>
    <a sec:authorize= "hasRole('ADMIN')" th:href="@{/admin}" type="submit"><button>Admin area</button></a>

    <br><br>
    <a th:href="@{/faq}" type="submit"><button>FAQ</button></a>
    <a th:href="@{/user/add}" type="submit"><button>Create User</button></a>
    </div>
-->   
</body>

</html>